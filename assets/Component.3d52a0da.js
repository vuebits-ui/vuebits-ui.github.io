import{d as z,A as $,u as ee,v as C,g as f,o as b,e as A,c as F,w as p,b as k,t as D,n as E,h as s,i as N,m as U,K as P,j as w,D as oe,G as le,a8 as ne,a as t,k as te,a9 as re,f as T,l as I,p as ae,_ as H,r as d,J as de,P as se,a3 as ie}from"./index.d767eba6.js";import{_ as ue,S as pe,a as me}from"./ComponentApi.vue_vue_type_script_setup_true_lang.3f016e89.js";import{_ as ce}from"./KnobBoolean.vue_vue_type_script_setup_true_lang.f57d079d.js";import{_ as fe}from"./KnobListItem.vue_vue_type_script_setup_true_lang.47d5f286.js";import{_ as be}from"./KnobNumber.vue_vue_type_script_setup_true_lang.704d7593.js";import{_ as ge}from"./Knobs.vue_vue_type_script_setup_true_lang.14474ee8.js";import{c as xe}from"./story-params.bce1115e.js";const _e=["multiple","accept"],S=z({__name:"FileUploader",props:$({buttonText:{},buttonColor:{},dropAreaText:{},errorText:{},dropAreaTextWhenDragging:{},dropAreaTextWhenDisabled:{},isButtonHidden:{type:Boolean},isDropAreaHidden:{type:Boolean},multipleFiles:{type:Boolean},color:{},acceptedTypes:{},acceptedExtensions:{},maxSize:{},dark:{type:Boolean},light:{type:Boolean},rounded:{type:Boolean},roundedLg:{type:Boolean},round:{type:Boolean},elevated:{type:Boolean}},{buttonColor:"primary",dropAreaText:"",errorText:"",dropAreaTextWhenDragging:"",dropAreaTextWhenDisabled:"",isButtonHidden:!1,isDropAreaHidden:!1,multipleFiles:!1,color:"default",acceptedTypes:()=>[],acceptedExtensions:()=>[],...oe,...le,...ne}),emits:["upload"],setup(i,{emit:l}){const m=ae("ui-file-uploader"),a=ee(),e=i,g=l,u=C(null),c=C(!1),r=C(!1),_=f(()=>[...m({e:"drop-area",m:{disabled:r.value}})]),v=f(()=>[...m({e:"upload-button"})]),h=f(()=>e.buttonText||a.t().fileUploader.selectFromDisk),y=f(()=>r.value?e.dropAreaTextWhenDisabled||a.t().fileUploader.dropAreaTextWhenDisabled:c.value?e.dropAreaTextWhenDragging||a.t().fileUploader.dropAreaTextWhenDragging:e.dropAreaText||a.t().fileUploader.dropAreaText),n=f(()=>e.errorText||a.t().fileUploader.validationError),R=f(()=>a.t().fileUploader.sizeError),j=f(()=>[...e.acceptedTypes,...e.acceptedExtensions].join(",")),V=()=>{c.value=!c.value},G=o=>{let x=0;for(const B of o){const O=`.${B.name.split(".").slice(-1)[0]}`.toLowerCase(),Q=e.acceptedExtensions.length===0||e.acceptedExtensions.map(Z=>Z.toLowerCase()).includes(O),L=B.type,X=`${L.split("/")[0]}/*`,Y=e.acceptedTypes.length===0||e.acceptedTypes.includes(L)||e.acceptedTypes.includes(X);if(e.maxSize&&(x=x+B.size),!Q||!Y)return alert(n.value),!1}return e.maxSize&&x>e.maxSize?(alert(R.value),!1):!0},K=o=>{o&&G(o)&&g("upload",e.multipleFiles?o:o[0])},J=o=>{V(),o.dataTransfer&&K(o.dataTransfer.files)},M=()=>{r.value=!0,document.body.onfocus=()=>{r.value=!1,document.body.onfocus=null}},W=()=>{var o;M(),(o=u.value)==null||o.click()},q=o=>{K(o.target.files),u.value&&(u.value.value="")};return(o,x)=>(b(),A("div",U({class:s(m)({})},o.$ui.testElName("file-uploader")),[o.isDropAreaHidden?w("",!0):(b(),F(s(re),U({key:0,class:_.value,elevated:o.elevated,round:o.round,rounded:o.rounded,"rounded-lg":o.roundedLg,dark:o.dark,light:o.light,color:o.color},s(a).testElName("file-uploader-drop-area"),{onDragenter:V,onDragleave:V,onDragover:x[0]||(x[0]=P(()=>{},["prevent"])),onDrop:P(J,["prevent"])}),{default:p(()=>[k("div",{class:E(s(m)({e:"description"}))},D(y.value),3),N(o.$slots,"background-icon",{},()=>[t(s(te),{name:s(a).icons.values.upload,class:E(s(m)({e:"upload-icon"}))},null,8,["name","class"])])]),_:3},16,["class","elevated","round","rounded","rounded-lg","dark","light","color"])),k("input",U({id:"file-upload-file-input",ref_key:"file",ref:u,type:"file",class:s(m)({e:"file-input"})},s(a).testElName("file-uploader-input"),{multiple:o.multipleFiles,accept:j.value,onChange:q}),null,16,_e),N(o.$slots,"button",{on:{click:W}},()=>[o.isButtonHidden?w("",!0):(b(),F(s(I),U({key:0,dark:"",class:v.value,color:o.buttonColor,rounded:"",elevated:"","left-icon":s(a).icons.values.upload},s(a).testElName("file-uploader-button"),{onClick:W}),{default:p(()=>[T(D(h.value),1)]),_:1},16,["class","color","left-icon"]))])],16))}}),ve={name:"FileUploaderExample",components:{Preview:ue,Sandbox:pe,Knobs:ge,KnobListItem:fe,KnobBoolean:ce,KnobNumber:be,UiFileUploader:S},data(){return{file:null,colors:xe,elevated:!1,round:!1,rounded:!1,roundedLg:!1,roundedSmall:!1,dark:!1,light:!1,color:"",width:200,buttonText:"",buttonColor:"primary",dropAreaText:"",errorText:"",dropAreaTextWhenDragging:"",dropAreaTextWhenDisabled:"",isButtonHidden:!1,isDropAreaHidden:!1,multipleFiles:!1,acceptedExtensions:[".png"]}},methods:{upload(i){this.file=i.name}}},Ue={key:0};function Te(i,l,m,a,e,g){const u=d("UiFileUploader"),c=d("Preview"),r=d("KnobBoolean"),_=d("KnobListItem"),v=d("KnobNumber"),h=d("Knobs"),y=d("Sandbox");return b(),F(y,{id:"example",title:"Example"},{controls:p(()=>[t(h,null,{default:p(()=>[t(r,{modelValue:e.isButtonHidden,"onUpdate:modelValue":l[1]||(l[1]=n=>e.isButtonHidden=n),label:"Is button hidden"},null,8,["modelValue"]),t(r,{modelValue:e.isDropAreaHidden,"onUpdate:modelValue":l[2]||(l[2]=n=>e.isDropAreaHidden=n),label:"Is drop area hidden"},null,8,["modelValue"]),t(r,{modelValue:e.dark,"onUpdate:modelValue":l[3]||(l[3]=n=>e.dark=n),label:"Dark"},null,8,["modelValue"]),t(r,{modelValue:e.light,"onUpdate:modelValue":l[4]||(l[4]=n=>e.light=n),label:"Light"},null,8,["modelValue"]),t(_,{modelValue:e.color,"onUpdate:modelValue":l[5]||(l[5]=n=>e.color=n),items:e.colors,label:"Color"},null,8,["modelValue","items"]),t(r,{modelValue:e.elevated,"onUpdate:modelValue":l[6]||(l[6]=n=>e.elevated=n),label:"Elevated"},null,8,["modelValue"]),t(r,{modelValue:e.rounded,"onUpdate:modelValue":l[7]||(l[7]=n=>e.rounded=n),label:"Rounded"},null,8,["modelValue"]),t(r,{modelValue:e.roundedLg,"onUpdate:modelValue":l[8]||(l[8]=n=>e.roundedLg=n),label:"Rounded large"},null,8,["modelValue"]),t(r,{modelValue:e.round,"onUpdate:modelValue":l[9]||(l[9]=n=>e.round=n),label:"Round"},null,8,["modelValue"]),t(v,{modelValue:e.width,"onUpdate:modelValue":l[10]||(l[10]=n=>e.width=n),label:"Width"},null,8,["modelValue"])]),_:1})]),default:p(()=>[t(c,null,{default:p(()=>[t(u,{elevated:e.elevated,round:e.round,rounded:e.rounded,"rounded-lg":e.roundedLg,dark:e.dark,light:e.light,color:e.color,width:e.width,"button-text":e.buttonText,"button-color":e.buttonColor,"drop-area-text":e.dropAreaText,"error-text":e.errorText,"drop-area-text-when-dragging":e.dropAreaTextWhenDragging,"drop-area-text-when-disabled":e.dropAreaTextWhenDisabled,"is-button-hidden":e.isButtonHidden,"is-drop-area-hidden":e.isDropAreaHidden,"multiple-files":e.multipleFiles,"accepted-extensions":e.acceptedExtensions,onUpload:g.upload},null,8,["elevated","round","rounded","rounded-lg","dark","light","color","width","button-text","button-color","drop-area-text","error-text","drop-area-text-when-dragging","drop-area-text-when-disabled","is-button-hidden","is-drop-area-hidden","multiple-files","accepted-extensions","onUpload"]),e.file?(b(),A("div",Ue,[T(D(e.file)+" ",1),k("button",{onClick:l[0]||(l[0]=n=>e.file=null)},"x")])):w("",!0)]),_:1})]),_:1})}const De=H(ve,[["render",Te]]),Ae={name:"FileUploaderCustomButton",components:{UiFileUploader:S,UiButton:I},data(){return{file:null}},methods:{upload(i){this.file=i.name}}};function he(i,l,m,a,e,g){const u=d("UiButton"),c=d("UiFileUploader");return b(),A("div",null,[t(c,{onUpload:g.upload},{button:p(({on:r})=>[t(u,U({round:"",gradient:"secondary"},de(r)),{default:p(()=>[T(" Upload ")]),_:2},1040)]),_:1},8,["onUpload"]),T(" "+D(e.file),1)])}const ye=H(Ae,[["render",he]]),Ve=z({name:"DocsComponentsAsyncContent",components:{PageHeader:se,ComponentApi:me,Story:ie,FileUploaderExample:De,FileUploaderCustomButton:ye},data(){return{component:S}}});function Be(i,l,m,a,e,g){const u=d("PageHeader"),c=d("FileUploaderExample"),r=d("ComponentApi"),_=d("FileUploaderCustomButton"),v=d("Story");return b(),A("div",{class:E(i.$bem({}))},[t(u,null,{default:p(()=>[T(" File uploader ")]),_:1}),t(c),t(r,{component:i.component},null,8,["component"]),t(v,{"file-name":"CustomButton","component-name":"FileUploader",title:"Custom button"},{default:p(()=>[t(_)]),_:1})],2)}const We=H(Ve,[["render",Be]]);export{We as default};
