import{d as J,j as me,v as Z,k as i,ae as ue,af as ie,o as g,e as E,a as l,K as C,u as s,s as D,b as S,n as I,F as re,J as ce,m as pe,_ as O,r,c as de,w as T,f as x,t as z,x as ve,P as fe,S as _e}from"./index.c99ef684.js";import{P as he,S as be,_ as Te}from"./ComponentApi.cab76a41.js";import{_ as Se}from"./KnobBoolean.cea721d9.js";import{_ as Ve}from"./KnobNumber.596a9919.js";import{_ as ke}from"./Knobs.20694b9d.js";const q=J({__name:"Component",props:{modelValue:{default:null},disableBefore:{default:null},disableAfter:{default:null},showSeconds:{type:Boolean,default:!1},hoursStep:{default:1},minutesStep:{default:1},secondsStep:{default:1},delay:{default:300}},emits:["update:modelValue","change-chunk"],setup(a,{emit:t}){const w=a,c=pe("v-timepicker"),{showSeconds:n,hoursStep:y,minutesStep:f,secondsStep:_,modelValue:p,disableAfter:h,disableBefore:k,delay:K}=me(w),u=Z(!1),N=e=>u.value?"":`00${e!=null?e:0}`.substr(-2),M=e=>{var b,B;if(!e)return null;const m=e.split(":");return{hour:Number(m[0]),minute:(b=Number(m[1]))!=null?b:0,second:(B=Number(m[2]))!=null?B:0}},$=i({get(){return M(p.value)},set(e){if(!e){t("update:modelValue",null);return}u.value=!1;const{hour:m,minute:b,second:B}=e,le=[m,b,...n.value?[B]:[]].map(ae=>N(ae)).join(":");t("update:modelValue",le)}}),G={hour:0,minute:0,second:0},o=ue({...G}),d=i(()=>M(k.value)),v=i(()=>M(h.value)),L=i(()=>{var e,m;return(m=(e=d.value)==null?void 0:e.hour)!=null?m:0}),Q=i(()=>{var e,m;return(m=(e=v.value)==null?void 0:e.hour)!=null?m:23}),U=i(()=>{var e;return o.hour===((e=d.value)==null?void 0:e.hour)}),H=i(()=>{var e;return o.hour===((e=v.value)==null?void 0:e.hour)}),P=i(()=>{var e;return U.value?(e=d.value)==null?void 0:e.minute:0}),F=i(()=>{var e;return H.value?(e=v.value)==null?void 0:e.minute:59}),W=i(()=>{var e;return U.value&&(o==null?void 0:o.minute)===((e=d.value)==null?void 0:e.minute)}),X=i(()=>{var e;return H.value&&(o==null?void 0:o.minute)===((e=v.value)==null?void 0:e.minute)}),R=i(()=>{var e;return W.value?(e=d.value)==null?void 0:e.second:0}),A=i(()=>{var e;return X.value?(e=v.value)==null?void 0:e.second:59}),V=e=>{o.hour=e.hour,o.minute=e.minute,o.second=e.second},ee=()=>{const{hour:e,minute:m,second:b}=o;d.value&&(e<L.value?V(d.value):U.value&&(P.value!==void 0&&m<P.value?V(d.value):W.value&&R.value!==void 0&&b<R.value&&(o.second=d.value.second))),v.value&&(e>Q.value?V(v.value):H.value&&(F.value!==void 0&&m>F.value?V(v.value):X.value&&A.value!==void 0&&b>A.value&&(o.second=v.value.second)))},oe=()=>{$.value={...o}},Y=Z(null),j=()=>{ee(),clearTimeout(Y.value),Y.value=setTimeout(()=>{oe()},K.value)},ne=e=>{o.hour=Number(e),j()},te=e=>{o.minute=Number(e),j()},se=e=>{o.second=Number(e),j()};return ie($,()=>{$.value?(u.value=!1,V($.value)):(u.value=!0,V(G))},{immediate:!0}),(e,m)=>(g(),E("div",C({class:s(c)({})},e.$ui.testElName("timepicker")),[l(s(D),C({"model-value":N(o.hour),class:s(c)({e:"time-chunk"}),placeholder:"hh",type:"number",min:s(L),max:s(Q),step:s(y)},{...e.$attrs,...e.$ui.testElName("timepicker-hour")},{"onUpdate:modelValue":ne}),null,16,["model-value","class","min","max","step"]),S("span",{class:I(s(c)({e:"time-separator"}))}," : ",2),l(s(D),C({"model-value":N(o.minute),class:s(c)({e:"time-chunk"}),placeholder:"mm",type:"number",min:s(P),max:s(F),step:s(f)},{...e.$attrs,...e.$ui.testElName("timepicker-minute")},{"onUpdate:modelValue":te}),null,16,["model-value","class","min","max","step"]),s(n)?(g(),E(re,{key:0},[S("span",{class:I(s(c)({e:"time-separator"}))}," : ",2),l(s(D),C({"model-value":N(o.second),class:s(c)({e:"time-chunk"}),placeholder:"ss",type:"number",min:s(R),max:s(A),step:s(_)},{...e.$attrs,...e.$ui.testElName("timepicker-second")},{"onUpdate:modelValue":se}),null,16,["model-value","class","min","max","step"])],64)):ce("",!0)],16))}}),ge={name:"TimepickerExample",components:{Preview:he,Sandbox:be,Knobs:ke,VTimepicker:q,KnobBoolean:Se,KnobNumber:Ve},data(){return{time:"12:45:04",showSeconds:!0,hoursStep:1,minutesStep:15,secondsStep:15}}};function xe(a,t,w,c,n,y){const f=r("VTimepicker"),_=r("Preview"),p=r("KnobBoolean"),h=r("KnobNumber"),k=r("Knobs"),K=r("Sandbox");return g(),de(K,{id:"example",title:"Example"},{controls:T(()=>[l(k,null,{default:T(()=>[l(p,{modelValue:n.showSeconds,"onUpdate:modelValue":t[1]||(t[1]=u=>n.showSeconds=u),label:"Show seconds"},null,8,["modelValue"]),l(h,{modelValue:n.hoursStep,"onUpdate:modelValue":t[2]||(t[2]=u=>n.hoursStep=u),step:1,min:1,max:24,label:"Hours step"},null,8,["modelValue"]),l(h,{modelValue:n.minutesStep,"onUpdate:modelValue":t[3]||(t[3]=u=>n.minutesStep=u),step:1,min:1,max:60,label:"Minutes step"},null,8,["modelValue"]),l(h,{modelValue:n.secondsStep,"onUpdate:modelValue":t[4]||(t[4]=u=>n.secondsStep=u),step:1,min:1,max:60,label:"Seconds step"},null,8,["modelValue"])]),_:1})]),default:T(()=>[l(_,null,{default:T(()=>[S("div",null,[l(f,{modelValue:n.time,"onUpdate:modelValue":t[0]||(t[0]=u=>n.time=u),"show-seconds":n.showSeconds,"hours-step":n.hoursStep,"minutes-step":n.minutesStep,"seconds-step":n.secondsStep,rounded:"",bordered:""},null,8,["modelValue","show-seconds","hours-step","minutes-step","seconds-step"]),x(" "+z(n.time),1)])]),_:1})]),_:1})}var we=O(ge,[["render",xe]]);const ye=J({name:"TimepickerTimeRange",components:{VTimepicker:q,VButton:ve},data(){return{timeFrom:null,timeTo:null}},methods:{reset(){this.timeFrom=null,this.timeTo=null}}}),Ne={style:{display:"flex"}},$e={style:{"margin-right":"40px"}},Be=S("h3",{style:{"margin-bottom":"20px"}}," Time from ",-1),Ce=S("h3",{style:{"margin-bottom":"20px"}}," Time to ",-1),Ee=x(" Reset ");function Ke(a,t,w,c,n,y){const f=r("VTimepicker"),_=r("VButton");return g(),E("div",Ne,[S("div",$e,[Be,l(f,{modelValue:a.timeFrom,"onUpdate:modelValue":t[0]||(t[0]=p=>a.timeFrom=p),"disable-after":a.timeTo,"show-seconds":""},null,8,["modelValue","disable-after"]),x(" "+z(a.timeFrom),1)]),S("div",null,[Ce,l(f,{modelValue:a.timeTo,"onUpdate:modelValue":t[1]||(t[1]=p=>a.timeTo=p),"disable-before":a.timeFrom,"show-seconds":""},null,8,["modelValue","disable-before"]),x(" "+z(a.timeTo),1)]),l(_,{hoverable:"",onClick:a.reset},{default:T(()=>[Ee]),_:1},8,["onClick"])])}var Me=O(ye,[["render",Ke]]);const Ue=J({name:"DocsComponentsTimepicker",components:{PageHeader:fe,ComponentApi:Te,TimepickerExample:we,Story:_e,TimepickerTimeRange:Me},data(){return{component:q}}}),He=x(" Timepicker ");function Pe(a,t,w,c,n,y){const f=r("PageHeader"),_=r("TimepickerExample"),p=r("ComponentApi"),h=r("TimepickerTimeRange"),k=r("Story");return g(),E("div",{class:I(a.$bem({}))},[l(f,null,{default:T(()=>[He]),_:1}),l(_),l(p,{component:a.component},null,8,["component"]),l(k,{"file-name":"TimeRange","component-name":"Timepicker",title:"Time range"},{default:T(()=>[l(h)]),_:1})],2)}var Ie=O(Ue,[["render",Pe]]);export{Ie as default};
